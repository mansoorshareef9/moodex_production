(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[975],{4696:function(e,a,s){"use strict";s.d(a,{Uf:function(){return t},V3:function(){return c},hK:function(){return d},if:function(){return n},zB:function(){return o}});let t=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn,c="0xDef1C0ded9bec7F1a1670819833240f027b25EfF",d=[{chainId:137,name:"WMatic",symbol:"WMATIC",decimals:18,address:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",logoURI:"https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/polygon/assets/0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270/logo.png"},{chainId:137,name:"Matic",symbol:"MATIC",decimals:18,address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",logoURI:"https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/polygon/assets/0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270/logo.png"},{chainId:137,name:"HolyCow",symbol:"HOLYCOW",decimals:18,address:"0xa3fdf185c7fadaf6c7690ce6a76273062b361f02",logoURI:"https://static.wixstatic.com/media/438dc1_e7b264dc40af47e39e018146237032e0~mv2.jpeg"},{chainId:137,name:"Goon",symbol:"GOON",decimals:18,address:"0x433cde5a82b5e0658da3543b47a375dffd126eb6",logoURI:"https://static.wixstatic.com/media/438dc1_9e52b8ac8ff841b988a602c152a2261a~mv2.jpeg"},{chainId:137,name:"TRYAN",symbol:"TRYAN",decimals:18,address:"0x550f908e06d1da4ffee6b1fb63730f88ecc4d230",logoURI:"https://static.wixstatic.com/media/438dc1_0d5a20b0adb2481c918a46c33db599d6~mv2.jpeg"},{chainId:137,name:"Polygon Dads",symbol:"DADS",decimals:18,address:"0x04b48c9707fe5091ee772d92941f745bc0ad2b8f",logoURI:"https://static.wixstatic.com/media/438dc1_80dfc634830a4ab5b40e21181e2fcac7~mv2.jpeg"},{chainId:137,name:"USDC",symbol:"USDC",decimals:6,address:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",logoURI:"https://raw.githubusercontent.com/maticnetwork/polygon-token-assets/main/assets/tokenAssets/usdc.svg"},{chainId:137,name:"USDT",symbol:"USDT",decimals:6,address:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",logoURI:"https://raw.githubusercontent.com/maticnetwork/polygon-token-assets/main/assets/tokenAssets/usdt.svg"}],o={wmatic:{chainId:137,name:"WrappedMatic",symbol:"WMATIC",decimals:18,address:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",logoURI:"https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/polygon/assets/0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270/logo.png"},matic:{chainId:137,name:"Matic",symbol:"MATIC",decimals:18,address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",logoURI:"https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/polygon/assets/0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270/logo.png"},holycow:{chainId:137,name:"HolyCow",symbol:"HOLYCOW",decimals:18,address:"0xa3fdf185c7fadaf6c7690ce6a76273062b361f02",logoURI:"https://static.wixstatic.com/media/438dc1_e7b264dc40af47e39e018146237032e0~mv2.jpeg"},goon:{chainId:137,name:"Goon",symbol:"GOON",decimals:18,address:"0x433cde5a82b5e0658da3543b47a375dffd126eb6",logoURI:"https://static.wixstatic.com/media/438dc1_9e52b8ac8ff841b988a602c152a2261a~mv2.jpeg"},tryan:{chainId:137,name:"Tryan",symbol:"TRYAN",decimals:18,address:"0x550f908e06d1da4ffee6b1fb63730f88ecc4d230",logoURI:"https://static.wixstatic.com/media/438dc1_0d5a20b0adb2481c918a46c33db599d6~mv2.jpeg"},dads:{chainId:137,name:"Polygon Dads",symbol:"DADS",decimals:18,address:"0x04b48c9707fe5091ee772d92941f745bc0ad2b8f",logoURI:"https://static.wixstatic.com/media/438dc1_80dfc634830a4ab5b40e21181e2fcac7~mv2.jpeg"},usdc:{chainId:137,name:"USD Coin",symbol:"USDC",decimals:6,address:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",logoURI:"https://raw.githubusercontent.com/maticnetwork/polygon-token-assets/main/assets/tokenAssets/usdc.svg"},usdt:{chainId:137,name:"Tether USD - PoS",symbol:"USDT",decimals:6,address:"0xc2132D05D31c914a87C6611C10748AEb04B58e8F",logoURI:"https://raw.githubusercontent.com/maticnetwork/polygon-token-assets/main/assets/tokenAssets/usdt.svg"}},n={"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270":{chainId:137,name:"Wrapped Matic",symbol:"WMATIC",decimals:18,address:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",logoURI:"https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/polygon/assets/0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270/logo.png"},"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee":{chainId:137,name:"Matic",symbol:"MATIC",decimals:18,address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",logoURI:"https://raw.githubusercontent.com/Uniswap/assets/master/blockchains/polygon/assets/0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270/logo.png"},"0xa3fdf185c7fadaf6c7690ce6a76273062b361f02":{chainId:137,name:"HolyCow",symbol:"HOLYCOW",decimals:18,address:"0xa3fdf185c7fadaf6c7690ce6a76273062b361f02",logoURI:"https://static.wixstatic.com/media/438dc1_e7b264dc40af47e39e018146237032e0~mv2.jpeg"},"0x433cde5a82b5e0658da3543b47a375dffd126eb6":{chainId:137,name:"Goon",symbol:"GOON",decimals:18,address:"0x433cde5a82b5e0658da3543b47a375dffd126eb6",logoURI:"https://static.wixstatic.com/media/438dc1_9e52b8ac8ff841b988a602c152a2261a~mv2.jpeg"},"0x550f908e06d1da4ffee6b1fb63730f88ecc4d230":{chainId:137,name:"Tryan",symbol:"TRYAN",decimals:18,address:"0x550f908e06d1da4ffee6b1fb63730f88ecc4d230",logoURI:"https://static.wixstatic.com/media/438dc1_0d5a20b0adb2481c918a46c33db599d6~mv2.jpeg"},"0x04b48c9707fe5091ee772d92941f745bc0ad2b8f":{chainId:137,name:"Polygon Dads",symbol:"DADS",decimals:18,address:"0x04b48c9707fe5091ee772d92941f745bc0ad2b8f",logoURI:"https://static.wixstatic.com/media/438dc1_80dfc634830a4ab5b40e21181e2fcac7~mv2.jpeg"},"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359":{chainId:137,name:"USDC",symbol:"USDC",decimals:6,address:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",logoURI:"https://raw.githubusercontent.com/maticnetwork/polygon-token-assets/main/assets/tokenAssets/usdc.svg"},"0xc2132d05d31c914a87c6611c10748aeb04b58e8f":{chainId:137,name:"Tether USD - PoS",symbol:"USDT",decimals:6,address:"0xc2132d05d31c914a87c6611c10748aeb04b58e8f",logoURI:"https://raw.githubusercontent.com/maticnetwork/polygon-token-assets/main/assets/tokenAssets/usdt.svg"}}},94127:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return h},fetcher:function(){return g}});var t=s(85893),c=s(80129),d=s.n(c),o=s(67294),n=s(59734),l=s(28169),i=s(6264),r=s.n(i),m=s(96110),f=s(69077),b=s(59382),u=s(4696);let g=e=>{let[a,s]=e,{sellAmount:t,buyAmount:c}=s;if(!t&&!c)return;let o=d().stringify(s);return fetch("".concat(a,"?").concat(o)).then(e=>e.json())};function h(e){var a,s;let{price:c,setPrice:d,setFinalize:i,takerAddress:b}=e,[h,x]=(0,o.useState)(""),[y,I]=(0,o.useState)(""),[v,w]=(0,o.useState)("sell"),[k,j]=(0,o.useState)("matic"),[U,A]=(0,o.useState)("holycow"),{data:C,isError:N}=(0,f.KQ)({address:b,token:"matic"===k?void 0:null===(a=u.zB[k])||void 0===a?void 0:a.address}),{data:B,isError:D}=(0,f.KQ)({address:b,token:"matic"===U?void 0:null===(s=u.zB[U])||void 0===s?void 0:s.address}),T=u.zB[k].decimals,R=h&&"sell"===v?(0,m.vz)(h,T).toString():void 0,S=u.zB[U].decimals,E=y&&"buy"===v?(0,m.vz)(y,S).toString():void 0,{isLoading:F}=(0,n.ZP)(["/api/price",{sellToken:u.zB[k].address,buyToken:u.zB[U].address,sellAmount:R,buyAmount:E,takerAddress:b,feeRecipient:"0xD86766b68e844E9096662d0E38Bc6d11e803B7Bb",buyTokenPercentageFee:.003}],g,{onSuccess:e=>{d(e),"sell"===v?I((0,m.bM)(e.buyAmount,S)):x((0,m.bM)(e.sellAmount,T))}}),{data:z,isError:M,isLoading:_}=(0,f.KQ)({address:b,token:u.zB[k].address}),O=C&&h?(0,m.vz)(h,T)>C.value:!C||!h||isNaN(Number(h)),P=C?Number((0,m.bM)(C.value,u.zB[k].decimals)).toFixed(3):"0.00",W=B?Number((0,m.bM)(B.value,u.zB[U].decimals)).toFixed(3):"0.00";return(0,t.jsxs)("form",{className:r().form,children:[(0,t.jsxs)("div",{className:"p-4 rounded-md mb-4",children:[(0,t.jsxs)("section",{className:r().tokenSection,children:[(0,t.jsx)("label",{htmlFor:"sell-select",className:"sr-only"}),(0,t.jsx)("img",{alt:k,className:r().tokenImage,src:u.zB[k].logoURI}),(0,t.jsx)("div",{className:"sm:w-full sm:mr-2",children:(0,t.jsx)("select",{value:k,name:"sell-token-select",id:"sell-token-select",className:r().select,onChange:e=>{j(e.target.value)},children:u.hK.map(e=>(0,t.jsx)("option",{value:e.symbol.toLowerCase(),disabled:e.symbol.toLowerCase()===U,children:e.symbol},e.address))})}),(0,t.jsx)("label",{htmlFor:"sell-amount",className:"sr-only"}),(0,t.jsx)("input",{id:"sell-amount",value:h,className:r().input,style:{border:"1px solid black"},onChange:e=>{w("sell"),x(e.target.value)}})]}),(0,t.jsxs)("div",{className:r().balanceText,onClick:()=>{C&&((0,m.bM)(C.value,u.zB[k].decimals),x(P))},style:{cursor:"pointer"},children:["Balance: ",P]}),(0,t.jsx)("button",{type:"button",className:r().toggleButton,onClick:()=>{j(e=>(A(e),U)),x(e=>(I(e),y))},children:(0,t.jsx)("img",{src:"/inv.jpg",alt:"Toggle Icon",className:r().toggleIcon})}),(0,t.jsxs)("section",{className:r().tokenSection,children:[(0,t.jsx)("label",{htmlFor:"buy-token",className:"sr-only"}),(0,t.jsx)("img",{alt:U,className:r().tokenImage,src:u.zB[U].logoURI}),(0,t.jsx)("div",{className:"sm:w-full sm:mr-2",children:(0,t.jsx)("select",{name:"buy-token-select",id:"buy-token-select",value:U,className:r().select,onChange:e=>{A(e.target.value)},children:u.hK.map(e=>(0,t.jsx)("option",{value:e.symbol.toLowerCase(),disabled:e.symbol.toLowerCase()===k,children:e.symbol},e.address))})}),(0,t.jsx)("label",{htmlFor:"buy-amount",className:"sr-only"}),(0,t.jsx)("input",{id:"buy-amount",value:parseFloat(y).toFixed(2),className:"".concat(r().input," ").concat(r().inputDisabled),style:{border:"1px solid black"},disabled:!0,onChange:e=>{w("buy"),I(e.target.value)}})]}),(0,t.jsxs)("div",{className:r().balanceText,children:["Balance: ",W]}),(0,t.jsx)("div",{className:r().affiliateFee,children:c&&c.grossBuyAmount?"Fee: ".concat((.003*Number((0,m.bM)(BigInt(c.grossBuyAmount),u.zB[U].decimals))).toFixed(2)," ").concat(u.zB[U].symbol):null})]}),b?(0,t.jsx)(p,{sellTokenAddress:u.zB[k].address,takerAddress:b,onClick:()=>i(!0),disabled:O,parsedSellAmount:BigInt(R||"0"),sellTokenBalance:C,sellToken:k,sellAmount:h}):(0,t.jsx)(l.x3.Custom,{children:e=>{let{isConnected:a,show:s,address:c}=e;return(0,t.jsx)("button",{onClick:s,type:"button",className:r().button,children:a?c:"Connect Wallet"})}}),F&&(0,t.jsx)("div",{className:r().loading,children:"Fetching the best price..."})]})}function p(e){let{takerAddress:a,onClick:s,sellTokenAddress:c,disabled:d,parsedSellAmount:o,sellTokenBalance:n,sellToken:l,sellAmount:i}=e,{data:g,refetch:h}=(0,f.do)({address:c,abi:b.em,functionName:"allowance",args:[a,u.V3]}),{config:p}=(0,f.PJ)({address:c,abi:b.em,functionName:"approve",args:[u.V3,u.Uf]}),{data:x,writeAsync:y,error:I}=(0,f.GG)(p),{isLoading:v}=(0,f.BX)({hash:x?x.hash:void 0,onSuccess(e){h()},onError(e){console.error("Transaction failed or was rejected by the user:",e),alert("Transaction was rejected or failed. Please try again.")}}),w=n&&i&&!isNaN(Number(i))&&(0,m.vz)(i,u.zB[l].decimals)<=n.value&&(void 0===g||0n===g||BigInt(g)<o);return w&&y?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("button",{type:"button",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full",onClick:async()=>{try{let e=await y();console.log("Transaction sent:",e)}catch(e){"TransactionExecutionError"===e.name&&e.message.includes("User rejected the request")?(console.warn("User rejected the transaction."),alert("You rejected the transaction. Please try again if you wish to proceed.")):(console.error("Transaction failed:",e),alert("Transaction failed. Please try again.")),window.location.reload()}},children:v?"Approving…":"Approve"})}):(0,t.jsx)("button",{type:"button",disabled:d,onClick:s,className:r().button,children:d?"Insufficient Balance":"Review Trade"})}},24654:function(){}}]);